---
layout: page
title: HTML Tag Counter
permalink: /tagcount.html
---

<style>
    h1, h2, h3, h4, h5, h6, ul, ol, dl, blockquote, p, address, hr, table, fieldset, figure, pre {
    margin: 20px 0 0px !important; }
    table {
            width: 100%;
            max-width: 260px;
            border-collapse: collapse;
            border: 2px solid #000 !important;
            margin-top: 20px;
            display: none; /* Hide the table initially */
        }
        th, td {
            border: 2px solid #000 !important;
            padding: 8px;
        }
        th {
            background-color: #f2f2f2;
        }
        .no-open-tags {
            background-color: #ffcccc; /* Light red color for rows with no open tags */
        }
        .no-tags {
            background-color: #f7f188; /* Light blue color for rows with no open and closed tags */
        }
        td:first-child {
            text-align: right !important; /* Right justify the first column */
        }
        td:nth-child(2), td:nth-child(3) {
            text-align: right !important; /* Center justify the second and third columns */
        }
        #htmlInput {
            width: 100% !important;
            height: 200px !important;
        }
        
</style>
<div class="container">
  <div class="row">
    <div class="col">
    <p>This will count HTML/XHTML tags to check for matching pairs of open/close tags, or missing tags. This is particularly useful for finding errors in tables. This is not as good as a <a href="https://validator.w3.org/" target="_blank">validator</a>, but is more forgiving of non-standard HTML.</p>
    <hr>
    <p>Note: This is a just a quick check for matched pairs of tags for emails.</p>
    <hr>
    <p>Paste the contents of an HTML or XHTML file here:</p>
    <textarea id="htmlInput" rows="10" cols="50" placeholder="Paste your HTML code here"></textarea><br>
    <button onclick="countTags()">Count Tags</button>
    </div>
    <div class="col">
        <table id="resultTable">
        <thead>
            <tr>
                <th>Tag Name</th>
                <th>Open Tags</th>
                <th>Closed Tags</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
    </div>
  </div>
</div>
    <script>
        function countTags() {
            const htmlInput = document.getElementById('htmlInput').value;
            const tempElement = document.createElement('div');
            tempElement.innerHTML = htmlInput;

            const tags = ['a', 'body', 'head', 'html', 'img', 'span', 'table', 'td', 'title', 'tr'];
            const resultTableBody = document.getElementById('resultTable').getElementsByTagName('tbody')[0];
            resultTableBody.innerHTML = ''; // Clear previous results

            tags.forEach(tag => {
                let openTags = 0;
                let closedTags = 0;

                if (tag === 'img') {
                    const imgTags = htmlInput.match(/<img[^>]*>/g) || [];
                    openTags = imgTags.length;
                    closedTags = imgTags.filter(tag => tag.endsWith('/>')).length;
                } else {
                    openTags = (htmlInput.match(new RegExp(`<${tag}(\\s|>)`, 'g')) || []).length;
                    closedTags = (htmlInput.match(new RegExp(`</${tag}>`, 'g')) || []).length;
                }

                const row = resultTableBody.insertRow();
                if (openTags === 0 && closedTags === 0) {
                    row.classList.add('no-tags');
                } else if (openTags != closedTags) {
                    row.classList.add('no-open-tags');
                }
                const cell1 = row.insertCell(0);
                const cell2 = row.insertCell(1);
                const cell3 = row.insertCell(2);

                cell1.textContent = tag;
                cell2.textContent = openTags;
                cell3.textContent = closedTags;
            });

            // Show the table after counting tags
            document.getElementById('resultTable').style.display = 'table';
        }
    </script>